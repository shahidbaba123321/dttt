<!-- public/dashboard/roles-permissions.html -->
<div class="roles-permissions-container">
    <!-- Header Section -->
    <div class="page-header">
        <h2>Roles & Permissions Management</h2>
        <button class="btn btn-primary" id="createRoleBtn">
            <i class="fas fa-plus"></i> Create New Role
        </button>
    </div>

    <!-- Roles List Section -->
    <div class="roles-list-container">
        <div class="roles-grid">
            <!-- System Roles (Non-editable) -->
            <div class="role-card system-role">
                <div class="role-header">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Superadmin</h3>
                    <span class="role-badge system">System Role</span>
                </div>
                <div class="role-description">
                    Full system access with unrestricted permissions
                </div>
                <div class="role-stats">
                    <div class="stat">
                        <span class="stat-value" id="superadminUserCount">0</span>
                        <span class="stat-label">Users</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">All</span>
                        <span class="stat-label">Permissions</span>
                    </div>
                </div>
                <div class="role-actions">
                    <button class="btn btn-secondary" disabled>
                        <i class="fas fa-lock"></i> System Protected
                    </button>
                </div>
            </div>

            <!-- Dynamic Roles List -->
            <div id="customRolesList"></div>
        </div>
    </div>

    <!-- Create/Edit Role Modal -->
    <div class="modal" id="roleModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Create New Role</h3>
                <button class="close-modal" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="roleForm">
                    <div class="form-group">
                        <label for="roleName">Role Name</label>
                        <input type="text" id="roleName" required>
                    </div>
                    <div class="form-group">
                        <label for="roleDescription">Description</label>
                        <textarea id="roleDescription" rows="3"></textarea>
                    </div>
                    
                    <!-- Permissions Section -->
                    <div class="permissions-section">
                        <h4>Permissions</h4>
                        
                        <!-- UI Access -->
                        <div class="permission-group">
                            <h5>UI Access</h5>
                            <div class="permissions-grid" id="uiPermissions">
                                <!-- Dynamically populated -->
                            </div>
                        </div>

                        <!-- Module Access -->
                        <div class="permission-group">
                            <h5>Module Access</h5>
                            <div class="permissions-grid" id="modulePermissions">
                                <!-- Dynamically populated -->
                            </div>
                        </div>

                        <!-- User Management -->
                        <div class="permission-group">
                            <h5>User Management</h5>
                            <div class="permissions-grid" id="userManagementPermissions">
                                <!-- Dynamically populated -->
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelRole">Cancel</button>
                <button class="btn btn-primary" id="saveRole">Save Role</button>
            </div>
        </div>
    </div>
</div>

<!-- Role Card Template -->
<template id="roleCardTemplate">
    <div class="role-card" data-role-id="">
        <div class="role-header">
            <i class="fas fa-user-shield"></i>
            <h3 class="role-name"></h3>
            <span class="role-badge custom">Custom Role</span>
        </div>
        <div class="role-description"></div>
        <div class="role-stats">
            <div class="stat">
                <span class="stat-value user-count">0</span>
                <span class="stat-label">Users</span>
            </div>
            <div class="stat">
                <span class="stat-value permission-count">0</span>
                <span class="stat-label">Permissions</span>
            </div>
        </div>
        <div class="role-actions">
            <button class="btn btn-icon edit-role">
                <i class="fas fa-edit"></i>
            </button>
            <button class="btn btn-icon delete-role">
                <i class="fas fa-trash"></i>
            </button>
        </div>
    </div>
</template>
